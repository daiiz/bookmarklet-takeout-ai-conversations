javascript:(function(){
const getNextjsPageProps$$module$src$chatgpt=()=>{const a=document.querySelector("script#__NEXT_DATA__");return JSON.parse(a?.textContent||"{}").props?.pageProps||{}},getChatTitle$$module$src$chatgpt=()=>document.querySelector("title").textContent,getChatContents$$module$src$chatgpt=({userName:a,aiName:e},{user:d})=>{const g=[],f=document.querySelectorAll("div.text-base");for(let k=0;k<f.length;k++){var b=f[k],h=b.parentElement.querySelector("div.text-base > div:nth-child(2)").textContent,c=b.querySelector(".rounded-sm svg");
const m=b.querySelector("img[alt]:not([alt=''])");b=a;c&&(b=e);m&&!a&&(b=d?.name||"me");c=`[${b.replace(/\s/g,"_")}.icon]`;b===e?(h=h.split("\n"),g.push(c,...h.map(l=>` ${l}`),"")):g.push(`${c} ${h}`)}return g};
function extractChatGPTTexts$$module$src$chatgpt({userName:a,chatgpt:e}){var d=getNextjsPageProps$$module$src$chatgpt();const g={userName:a,aiName:e.aiName};a=getChatTitle$$module$src$chatgpt();d=getChatContents$$module$src$chatgpt(g,d);return{title:a,contents:d,hashtagLine:e.hashtagLine}}var module$src$chatgpt={};module$src$chatgpt.extractChatGPTTexts=extractChatGPTTexts$$module$src$chatgpt;const getUserName$$module$src$bard=()=>document.querySelector(".gb_Ab")?.textContent||"",getChatTitle$$module$src$bard=()=>(document.querySelector(".user-query-container .query-text")?.textContent||"No title").substring(0,50),getChatContents$$module$src$bard=({userName:a,aiName:e})=>{const d=[],g=document.querySelectorAll(".conversation-container");for(let m=0;m<g.length;m++){var f=g[m],b=f.querySelector(".user-query-container");f=f.querySelector(".response-container");b=b.querySelector(".query-text")?.textContent||
"";var h=`[${a.replace(/\s/g,"_")}.icon]`;d.push(`${h} ${b}`);b=f.querySelector(".model-response-text .markdown").children;f=[];for(h=0;h<b.length;h++){var c=b[h];if("UL"===c.tagName||"OL"===c.tagName){c=c.querySelectorAll("li");for(var k=0;k<c.length;k++)f.push(` ${c[k]?.textContent||""}`)}else"CODE-BLOCK"===c.tagName?(c=c.querySelector("div.code-block"),k=c.querySelector("div.header")?.textContent||"",f.push(`code:${k.toLowerCase()}`),c=(c.querySelector("pre")?.textContent||"").split("\n").filter(l=>
!!l),f.push(...c.map(l=>` ${l}`))):f.push(c?.textContent||"")}b=`[${e.replace(/\s/g,"_")}.icon]`;d.push(b,...f.map(l=>` ${l}`),"")}return d};function extractBardTexts$$module$src$bard({userName:a,bard:e}){var d={userName:getUserName$$module$src$bard()||a||"me",aiName:e.aiName||"ai"};a=getChatTitle$$module$src$bard();d=getChatContents$$module$src$bard(d);return{title:a,contents:d,hashtagLine:e.hashtagLine}}var module$src$bard={};module$src$bard.extractBardTexts=extractBardTexts$$module$src$bard;const config$$module$index=Object.freeze({userName:"",chatgpt:{aiName:"chatgpt",hashtagLine:"#ChatGPT\u65e5\u8a18"},bard:{aiName:"bard",hashtagLine:"#Bard\u65e5\u8a18"}}),createScrapboxLines$$module$index=a=>{const e=[];let d;"https://chat.openai.com"===a?d=extractChatGPTTexts$$module$src$chatgpt(config$$module$index):"https://bard.google.com"===a&&(d=extractBardTexts$$module$src$bard(config$$module$index));if(!d)return e;const {title:g,contents:f,hashtagLine:b}=d;e.push(g);e.push((new Date).toLocaleDateString(),
"");e.push(...f);e.push("",b);return e},copyToClipboard$$module$index=async a=>{await navigator.clipboard.writeText(a);alert("Copied to clipboard!")},main$$module$index=()=>{copyToClipboard$$module$index(createScrapboxLines$$module$index(window.location.origin).join("\n"))};main$$module$index();var module$index={};
})()
